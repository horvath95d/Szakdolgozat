const table=document.getElementsByTagName("table")[0];let teachers,rooms;document.getElementById("insert").onclick=async function(){if(void 0===teachers){let e=await fetch("../school/json",{method:"GET",headers:{"Content-type":"application/json"}});if(!e.ok)return void console.log("JSON error");let t=await e.json();teachers=t.teachers,rooms=t.rooms}let e=table.insertRow(table.rows.length),t=e.insertCell(0),n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("name","name[]"),n.setAttribute("maxlength","15"),t.appendChild(n),n.focus();let l=e.insertCell(1),r=document.createElement("select");r.setAttribute("name","teacher_id[]"),l.appendChild(r);let o=document.createElement("option");r.appendChild(o),teachers.forEach(e=>{(o=document.createElement("option")).setAttribute("value",e.id),o.innerHTML=e.name,r.appendChild(o)});let a=e.insertCell(2);(r=document.createElement("select")).setAttribute("name","room_id[]"),a.appendChild(r),o=document.createElement("option"),r.appendChild(o),rooms.forEach(e=>{(o=document.createElement("option")).setAttribute("value",e.id),o.innerHTML=e.name,r.appendChild(o)});let i=e.insertCell(3);return(n=document.createElement("input")).setAttribute("type","number"),n.setAttribute("name","members[]"),n.setAttribute("min","1"),n.setAttribute("value","1"),i.appendChild(n),e.insertCell(4),!1};