var table = document.getElementsByTagName('table')[0];var teachers, rooms;document.getElementById('insert').onclick = async function() {        if (teachers === undefined) {        let response = await fetch('../edit/json', {            method: 'GET',            headers: {                'Content-type': 'application/json'            }        });            if (!response.ok) {            console.log('JSON error')            return;        }                let promis = await response.json();        teachers = promis.teachers;        rooms = promis.rooms;    }    let row = table.insertRow(table.rows.length);    let cell0 = row.insertCell(0);        input = document.createElement('input');        input.setAttribute('type', 'text');        input.setAttribute('name', 'name[]');        input.setAttribute('maxlength', '15');        cell0.appendChild(input);        input.focus();        let cell1 = row.insertCell(1);        select = document.createElement('select');        select.setAttribute('name', 'teacher_id[]');        cell1.appendChild(select);        option = document.createElement('option');        select.appendChild(option);        teachers.forEach(teacher => {            option = document.createElement('option');            option.setAttribute('value', teacher['id']);            option.innerHTML = teacher['name'];            select.appendChild(option);        });        let cell2 = row.insertCell(2);        select = document.createElement('select');        select.setAttribute('name', 'room_id[]');        cell2.appendChild(select);        option = document.createElement('option');        select.appendChild(option);        rooms.forEach(room => {            option = document.createElement('option');            option.setAttribute('value', room['id']);            option.innerHTML = room['name'];            select.appendChild(option);        });    let cell3 = row.insertCell(3);        input = document.createElement('input');        input.setAttribute('type', 'number');        input.setAttribute('name', 'members[]');        input.setAttribute('min', '1');        input.setAttribute('value', '1');        cell3.appendChild(input);        row.insertCell(4);    return false;}